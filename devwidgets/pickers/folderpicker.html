<!-- CSS -->
<link rel="stylesheet" type="text/css" href="/devwidgets/pickers/css/pickers.css" />

<!-- MESSAGES -->

<!-- HTML -->
<div id="picker_folder_container" class="picker_container fl-widget-content">
	<div id="picker_folder_settings" class="picker_settings" style="display:none;">
		<h1>Pick a folder</h1>
		<div id="picker_folder_tree_template"><!--
		<ul>
		{for i in results}
			<li class="{if selected === i.path}selected {/if} picker_item" id="picker_folder_item_${i_index}">
				<img src="/dev/_images2/folder_18.png" alt="Folder" />
				<a href="javascript:;" title="${i.name} at ${i.path}">
					{if i.name.length > 14}
						${i.name.substring(0,14)}...
					{else}
						${i.name}
					{/if}
				</a>
			</li>
		{forelse}
			<li>There are no subfolders yet.</li>
		{/for}
		</ul>
		--></div>
		<div id="picker_folder_breadcrumb_template"><!--
		Location:
		{for l in locations}
			{if l.folder}
				<a id="picker_folder_breadcrumb_${l_index}" class="picker_breadcrumb_${type} picker_breadcrumb">${l.name}</a>
				 
					{if l_index < (locations.length - 1) && l_index != 0}
						 &#187; 
					{/if}
			{else}
				<span id="picker_folder_breadcrumb_${l_index}" class="picker_breadcrumb_hidden">
					${l.name} 
					{if l_index < (locations.length - 1) && l_index != 0}
						 &#187; 
					{/if}
				</span>
			{/if}
		{/for}
		--></div>
		<div id="picker_folder_breadcrumb" class="picker_breadcrumb"></div>
		<div id="picker_folder_tree" class="picker_tree"></div>
		<div class="picker_pager" class="jq_pager"></div>
		
		<div id="picker_folder_selectedfolder_template"><!--
			<label>Selected folder:</label> <a id="picker_folder_selectedfile_name" href="javascript:;">${selectedFolder}</a><br />
		--></div>
		<div id="picker_folder_selectedfolder"></div>
		
		<div class="buttonBar">
			<a class="button-default save_button" href="javascript:;" id="picker_folder_button_select">Select folder</a>
			<a class="button cancel-button" href="javascript:;" id="picker_folder_button_cancel">Cancel</a>
		</div>
	</div>
	
	<div id="picker_folder_main_folder_template"><!--
		<ul class="picker_items">
		{for i in results}
			{if i["sling:resourceType"] === "sakai/folder"}
			<li class="picker_item" id="picker_folder_item_${i_index}">
				<img src="/dev/_images2/folder_18.png" alt="Folder" />
				<a href="javascript:;" title="${i.name} at ${i.path}" class="picker_folder_item" id="picker_folder_folder_item_${i_index}">
					{if i.name.length > 14}
						${i.name.substring(0,14)}...
					{else}
						${i.name}
					{/if}
				</a>
				
			{elseif i["sling:resourceType"] === "sakai/link"}
			<li>
				{if icons[i.file["sakai:mimeType"]]}
					<img src="/devwidgets/pickers/images/icons/small/${icons[i.file["sakai:mimeType"]]}" alt="File" />
				{else}
					<img src="/dev/_images2/page_18.png" alt="File" />
				{/if}
				<a href="${i.path}" title="${i.name} at ${i.path}">
					{if i.name.length > 14}
						${i.name.substring(0,14)}...
					{else}
						${i.name}
					{/if}
				</a>
			{/if}
			
			</li>
		{forelse}
			<li>There are no subfolders available in this folder..</li>
		{/for}
		</ul>
		--></div>
	
	
	<div id="picker_folder_main" style="display:none;">
		<div id="picker_folder_folder_breadcrumb"></div>
		<div id="picker_folder_main_content"></div>
		<div class="picker_pager"></div>
	</div>
</div>

<!-- WIDGET FOOTER-->
<div class="fl-widget-no-options fl-fix"><div class="widget-no-options-inner"><!-- --></div></div>

<!-- JS -->
<script type="text/javascript" language="JavaScript" src="/devwidgets/pickers/javascript/folderpicker.js" />
<script type="text/javascript" language="JavaScript" src="/dev/_lib/Jquery/jquery.pager.js" />